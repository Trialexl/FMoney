# Django –õ–ö - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —Å REST API, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ Django –∏ Django REST Framework.

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–µ—Å—Ç–∏ —É—á–µ—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤, —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ—à–µ–ª—å–∫–∞–º–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±—é–¥–∂–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Ç–µ–∂–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ —á–∞—Å—Ç–Ω—ã—Ö –ª–∏—Ü, —Ç–∞–∫ –∏ –∫–æ–º–ø–∞–Ω–∏–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìÅ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- **–ö–æ—à–µ–ª—å–∫–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —Å—Ä–µ–¥—Å—Ç–≤
- **–°—Ç–∞—Ç—å–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤  
- **–ü—Ä–æ–µ–∫—Ç—ã** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º

### üìä –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ü—Ä–∏—Ö–æ–¥—ã** - —É—á–µ—Ç –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤
- **–†–∞—Å—Ö–æ–¥—ã** - —É—á–µ—Ç —Ç—Ä–∞—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–∫–ª—é—á–µ–Ω–∏—è –≤ –±—é–¥–∂–µ—Ç
- **–ü–µ—Ä–µ–≤–æ–¥—ã** - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –∫–æ—à–µ–ª—å–∫–∞–º–∏
- **–ë—é–¥–∂–µ—Ç—ã** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
- **–ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –†–µ–≥–∏—Å—Ç—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤
- –ë—é–¥–∂–µ—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø–æ –¥–æ—Ö–æ–¥–∞–º –∏ —Ä–∞—Å—Ö–æ–¥–∞–º
- –ì—Ä–∞—Ñ–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π –∏ —á–∞—Å—Ç–Ω—ã—Ö –ª–∏—Ü
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Django 4.1.2
- **API**: Django REST Framework 3.14.0
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 14
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (Simple JWT)
- **CORS**: django-cors-headers
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker + Docker Compose

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- –ò–ª–∏: Python 3.8+, PostgreSQL 14+

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/Trialexl/djangolk
cd djangolk
```

### 2. –ó–∞–ø—É—Å–∫ —Å Docker Compose
```bash
docker-compose up --build
```

**–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:**
- **API**: `http://127.0.0.1:8000/api/v1/`
- **–ê–¥–º–∏–Ω–∫–∞**: `http://127.0.0.1:8000/admin/`
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `http://127.0.0.1:8000/web/`

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `admin123`

## –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
createdb djangolk
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞
cp env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 4. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
python manage.py migrate
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
python manage.py createsuperuser
```

### 6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
python manage.py runserver
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/v1/auth/token/` - –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
- `POST /api/v1/auth/refresh/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `POST /api/v1/auth/logout/` - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET/POST /api/v1/users/` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
- `GET/POST /api/v1/profile/` - –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- `GET/POST/PUT/DELETE /api/v1/cash-flow-items/` - —Å—Ç–∞—Ç—å–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
- `GET/POST/PUT/DELETE /api/v1/wallets/` - –∫–æ—à–µ–ª—å–∫–∏
- `GET/POST/PUT/DELETE /api/v1/projects/` - –ø—Ä–æ–µ–∫—Ç—ã

### –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `GET/POST/PUT/DELETE /api/v1/receipts/` - –ø—Ä–∏—Ö–æ–¥—ã
- `GET/POST/PUT/DELETE /api/v1/expenditures/` - —Ä–∞—Å—Ö–æ–¥—ã
- `GET/POST/PUT/DELETE /api/v1/transfers/` - –ø–µ—Ä–µ–≤–æ–¥—ã
- `GET/POST/PUT/DELETE /api/v1/budgets/` - –±—é–¥–∂–µ—Ç—ã
- `GET/POST/PUT/DELETE /api/v1/auto-payments/` - –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏

### –ì—Ä–∞—Ñ–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `GET/POST/PUT/DELETE /api/v1/expenditure-graphics/` - –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
- `GET/POST/PUT/DELETE /api/v1/transfer-graphics/` - –≥—Ä–∞—Ñ–∏–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- `GET/POST/PUT/DELETE /api/v1/budget-graphics/` - –≥—Ä–∞—Ñ–∏–∫–∏ –±—é–¥–∂–µ—Ç–æ–≤
- `GET/POST/PUT/DELETE /api/v1/auto-payment-graphics/` - –≥—Ä–∞—Ñ–∏–∫–∏ –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ endpoints
- `GET /api/v1/cash-flow-items/hierarchy/` - –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç–µ–π
- `GET /api/v1/wallets/{id}/balance/` - –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞

### Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- `?include_in_budget=true/false` - —Ñ–∏–ª—å—Ç—Ä —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –≤–∫–ª—é—á–µ–Ω–∏—é –≤ –±—é–¥–∂–µ—Ç
- `?type=income/expense` - —Ñ–∏–ª—å—Ç—Ä –±—é–¥–∂–µ—Ç–æ–≤ –ø–æ —Ç–∏–ø—É (–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥)
- `?is_transfer=true/false` - —Ñ–∏–ª—å—Ç—Ä –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π –ø–æ —Ç–∏–ø—É –æ–ø–µ—Ä–∞—Ü–∏–∏
- `?document={uuid}` - —Ñ–∏–ª—å—Ç—Ä –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É

### –°–ª—É–∂–µ–±–Ω—ã–µ
- `POST /api/v1/legacy/clear/<type_doc>/<document_id>/` - –æ—á–∏—Å—Ç–∫–∞ –∑–∞–ø–∏—Å–µ–π (DEPRECATED)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
curl -X POST http://localhost:8000/api/v1/auth/token/ \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123"}'

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
curl -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  http://localhost:8000/api/v1/wallets/
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```bash
# –¢–æ–ª—å–∫–æ —Ä–∞—Å—Ö–æ–¥—ã, –≤–∫–ª—é—á–µ–Ω–Ω—ã–µ –≤ –±—é–¥–∂–µ—Ç
GET /api/v1/expenditures/?include_in_budget=true

# –¢–æ–ª—å–∫–æ –±—é–¥–∂–µ—Ç—ã –¥–æ—Ö–æ–¥–æ–≤
GET /api/v1/budgets/?type=income

# –ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏-–ø–µ—Ä–µ–≤–æ–¥—ã
GET /api/v1/auto-payments/?is_transfer=true

# –ì—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
GET /api/v1/budget-graphics/?document=uuid-here
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ endpoints
```bash
# –ü–æ–ª—É—á–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é —Å—Ç–∞—Ç–µ–π –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
GET /api/v1/cash-flow-items/hierarchy/

# –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
GET /api/v1/wallets/uuid-here/balance/
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- **–ê–¥–º–∏–Ω—ã**: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º
- **–ê–Ω–æ–Ω–∏–º–Ω—ã–µ**: –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ URL –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
```
/                       -> –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∞–¥–º–∏–Ω–∫—É
/admin/                 -> Django –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
/web/                   -> HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
/api/v1/                -> REST API –≤–µ—Ä—Å–∏–∏ 1
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API v1
```
/api/v1/auth/           -> –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
/api/v1/users/          -> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
/api/v1/profile/        -> –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

/api/v1/cash-flow-items/    -> –°—Ç–∞—Ç—å–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
/api/v1/wallets/            -> –ö–æ—à–µ–ª—å–∫–∏  
/api/v1/projects/           -> –ü—Ä–æ–µ–∫—Ç—ã

/api/v1/receipts/           -> –ü—Ä–∏—Ö–æ–¥—ã
/api/v1/expenditures/       -> –†–∞—Å—Ö–æ–¥—ã
/api/v1/transfers/          -> –ü–µ—Ä–µ–≤–æ–¥—ã
/api/v1/budgets/            -> –ë—é–¥–∂–µ—Ç—ã
/api/v1/auto-payments/      -> –ê–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏

/api/v1/*-graphics/         -> –ì—Ä–∞—Ñ–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
djangolk/
‚îú‚îÄ‚îÄ lk/                     # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îú‚îÄ‚îÄ settings.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # –ì–ª–∞–≤–Ω—ã–µ URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ api_urls.py         # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ API –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ money/                  # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å FinancialOperationMixin
‚îÇ   ‚îú‚îÄ‚îÄ views.py            # API ViewSets —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
‚îÇ   ‚îú‚îÄ‚îÄ permissions.py      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ permissions
‚îÇ   ‚îú‚îÄ‚îÄ web_views.py        # HTML –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ serializers.py      # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã DRF
‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ api_urls.py         # API –º–∞—Ä—à—Ä—É—Ç—ã (–Ω–æ–≤—ã–µ)
‚îÇ   ‚îú‚îÄ‚îÄ web_urls.py         # HTML –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ migrations/         # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ templates/          # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ users/                  # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ views.py            # API views –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ api_urls.py         # API –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ Dockerfile              # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ docker-entrypoint.sh    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ env.example             # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ task.md                 # –ó–∞–¥–∞—á–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ manage.py               # Django —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **UUID –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∫–ª—é—á–∏** –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –º–∏–∫—Å–∏–Ω–∞–º–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏ —á–µ—Ä–µ–∑ `FinancialOperationMixin`
- **–Ø–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏** - –≤–º–µ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –º–æ–¥–µ–ª–µ–π
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ HTML –∏ API** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ REST API
- **Kebab-case –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ** endpoints –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ permissions** - –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (IsAdminOrReadOnly, IsOwnerOrAdmin)
- **Query —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### üìä –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** - –∑–∞–ø–∏—Å–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–µ, –Ω–æ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏** - —Å—Ç–∞—Ç—å–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã** - –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –∏ –±—é–¥–∂–µ—Ç–æ–≤

### üê≥ DevOps
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Docker —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```env
# Django
SECRET_KEY=your-secret-key
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# Database
DB_HOST=localhost
DB_NAME=djangolk
DB_USER=postgres
DB_PASSWORD=postgres
DB_PORT=5432

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:8080,http://localhost:3000
```

## –ö–æ–º–∞–Ω–¥—ã Docker

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up --build

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
docker-compose exec web bash
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- SECRET_KEY –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- DEBUG –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö endpoints

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### v2.1 - REST API Enhancement ‚ö°
- üõ°Ô∏è **–ö–∞—Å—Ç–æ–º–Ω—ã–µ permissions**: IsAdminOrReadOnly, IsOwnerOrAdmin, IsReadOnlyOrAdmin
- üîç **Query —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: include_in_budget, type, is_transfer, document
- üéØ **Custom actions**: /hierarchy/, /balance/ endpoints
- üîÑ **–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ**: perform_destroy —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: perform_create —Å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏
- üìä **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ deleted=False
- ‚ö†Ô∏è **Deprecated endpoints**: legacy/clear/ —Å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

### v2.0 - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è ‚ú®
- üîÑ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–æ–≤**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ HTML –∏ API
- üèóÔ∏è **–ú–∏–∫—Å–∏–Ω –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤**: –ó–∞–º–µ–Ω–∞ post_save —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ —è–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- üê≥ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Docker Compose
- üóÑÔ∏è **PostgreSQL**: –ü–µ—Ä–µ—Ö–æ–¥ —Å SQLite –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é –ë–î
- üìù **Kebab-case API**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ endpoints
- ‚öôÔ∏è **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.